{% extends 'base.html' %}
{% load static %}

{% block page_css %}
<link rel="stylesheet" href="{% static 'store/css/checkout-steps.css' %}">
<style>
    /* CSS cho trạng thái hoàn thành */
    .checkout-steps .step:last-child {
        color: #e50914;
    }
    .checkout-steps .step:last-child .step-circle {
        background-color: #e50914;
        border-color: #e50914;
    }
</style>
{% endblock %}

{% block content %}
<!-- Progress Steps -->
<div style="display: flex; justify-content: space-between; align-items: center; padding: 30px 30px; background: white; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.02); width: 100%; position: relative; z-index: 1; border-radius: 8px; margin-bottom: 30px;">
    <!-- Step 1: Giỏ hàng -->
    <div style="display: flex; align-items: center; position: relative; flex: 1; justify-content: center;">
        <div style="width: 35px; height: 35px; border: 2px solid #ddd; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 600; margin-right: 12px; background: white; color: #666;">1</div>
        <span style="font-size: 16px; font-weight: 500; color: #666;">Giỏ hàng</span>
        <div style="position: absolute; right: -30%; width: 60%; height: 2px; background: #ddd; transform: translateY(-50%); top: 50%;"></div>
    </div>

    <!-- Step 2: Thanh toán -->
    <div style="display: flex; align-items: center; position: relative; flex: 1; justify-content: center;">
        <div style="width: 35px; height: 35px; border: 2px solid #ddd; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 600; margin-right: 12px; background: white; color: #666;">2</div>
        <span style="font-size: 16px; font-weight: 500; color: #666;">Thanh toán</span>
        <div style="position: absolute; right: -30%; width: 60%; height: 2px; background: #ddd; transform: translateY(-50%); top: 50%;"></div>
    </div>

    <!-- Step 3: Hoàn thành (Active) -->
    <div style="display: flex; align-items: center; position: relative; flex: 1; justify-content: center;">
        <div style="width: 35px; height: 35px; border: 2px solid #e50914; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 600; margin-right: 12px; background: #e50914; color: white;">3</div>
        <span style="font-size: 16px; font-weight: 500; color: #e50914;">Hoàn thành</span>
    </div>
</div>

<!-- Payment Success Content -->
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card text-center">
                <div class="card-body">
                    <i class="fas fa-check-circle text-success" style="font-size: 64px;"></i>
                    <h2 class="mt-3">Thanh toán thành công!</h2>
                    <p>Cảm ơn bạn đã mua hàng. Đơn hàng của bạn sẽ được xử lý ngay.</p>
                    <p>Tự động chuyển về trang chủ sau <span id="countdown">5</span> giây.</p>
                    <a href="{% url 'store:home' %}" class="btn btn-primary mt-3">Về trang chủ</a>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    let timeLeft = 5;
    const countdownElement = document.getElementById('countdown');
    
    const countdown = setInterval(function() {
        timeLeft--;
        countdownElement.textContent = timeLeft;
        
        if (timeLeft <= 0) {
            clearInterval(countdown);
            window.location.href = '{% url "store:home" %}';
        }
    }, 1000);
});
</script>
{% endblock %} 